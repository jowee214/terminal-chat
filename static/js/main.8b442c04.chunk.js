(this["webpackJsonpterminal-chat"]=this["webpackJsonpterminal-chat"]||[]).push([[0],{48:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var c=a(11),n=a(37),r=a.n(n),s=a(0),i=a.n(s),l=a(1),o=a(15),j=(a(48),a(26)),d=(a(49),a(56),j.a.initializeApp({apiKey:"AIzaSyAIRsRlGnUrRpxYcUUklk76Ej3cUeYhWO0",authDomain:"terminal-chat-val8119.firebaseapp.com",projectId:"terminal-chat-val8119",storageBucket:"terminal-chat-val8119.appspot.com",messagingSenderId:"606376017489",appId:"1:606376017489:web:2e8d372e5cd2719abb4270",measurementId:"G-FMPES68B74"}),j.a.auth()),u=j.a.firestore(),m=a(38),h=a(39),b=a(40),p=a(13);function O(){var e=Object(c.useRef)(),t=u.collection("messages"),a=t.orderBy("createdAt").limit(75),n=Object(h.a)(a,{idField:"id"}),r=Object(o.a)(n,1)[0],s=Object(c.useState)(""),m=Object(o.a)(s,2),b=m[0],O=m[1],v=function(){var e=Object(l.a)(i.a.mark((function e(a){var c,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=d.currentUser,n=c.uid,r=c.displayName,e.next=4,t.add({text:b,createdAt:j.a.firestore.FieldValue.serverTimestamp(),displayName:r,uid:n});case 4:O("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"App crt",children:[Object(p.jsxs)("div",{className:"ChatBox",children:[r&&r.map((function(e){return Object(p.jsx)(x,{message:e},e.id)})),Object(p.jsx)("div",{ref:e})]}),Object(p.jsxs)("footer",{children:[Object(p.jsxs)("label",{children:[d.currentUser.displayName.split(" ")[0].toLowerCase(),"@terminal-chat >"]}),Object(p.jsx)("form",{onSubmit:v,children:Object(p.jsx)("input",{className:"crt",id:"TextBox",value:b,onChange:function(e){return O(e.target.value)},autofocus:"true"})}),Object(p.jsx)("button",{className:"crt",onClick:function(){return d.signOut()},children:"SIGN OUT"})]})]})}function x(e){var t=e.message,a=t.text,c=t.uid,n=t.displayName,r=c===d.currentUser.uid?"sent":"received";return Object(p.jsx)("div",{className:"message ".concat(r),children:Object(p.jsxs)("p",{children:[n.split(" ")[0].toLowerCase(),": ",a]})})}function v(){return Object(p.jsx)("div",{className:"SignIn crt",children:Object(p.jsx)("button",{className:"crt",onClick:function(){var e=new j.a.auth.GoogleAuthProvider;d.signInWithPopup(e)},children:"SIGN IN"})})}var f=function(){var e=Object(m.a)(d),t=Object(o.a)(e,1)[0],a=t?d.currentUser.displayName.split(" ")[0].toLowerCase():"unknown";return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{children:Object(p.jsxs)(b.a,{children:[Object(p.jsx)("meta",{charSet:"utf-8"}),Object(p.jsx)("title",{children:"terminal chat"}),Object(p.jsxs)("title",{children:[a,"@terminal-chat"]}),Object(p.jsx)("link",{rel:"canonical",href:"https://val8119.github.io/terminal-chat/"}),Object(p.jsx)("meta",{name:"description",content:"Terminal style chat room"}),Object(p.jsx)("meta",{name:"keywords",content:"React, Firebase, Chatroom, Chat, Terminal"}),Object(p.jsx)("meta",{name:"author",content:"val8119"}),Object(p.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]})}),Object(p.jsx)("div",{children:t?Object(p.jsx)(O,{}):Object(p.jsx)(v,{})})]})};r.a.render(Object(p.jsx)(f,{}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.8b442c04.chunk.js.map