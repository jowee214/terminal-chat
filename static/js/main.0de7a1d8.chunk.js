(this["webpackJsonpterminal-chat"]=this["webpackJsonpterminal-chat"]||[]).push([[0],{48:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var c=a(11),r=a(37),n=a.n(r),s=a(0),i=a.n(s),l=a(1),u=a(15),o=(a(48),a(26)),d=(a(49),a(56),o.a.initializeApp({apiKey:"AIzaSyAIRsRlGnUrRpxYcUUklk76Ej3cUeYhWO0",authDomain:"terminal-chat-val8119.firebaseapp.com",projectId:"terminal-chat-val8119",storageBucket:"terminal-chat-val8119.appspot.com",messagingSenderId:"606376017489",appId:"1:606376017489:web:2e8d372e5cd2719abb4270",measurementId:"G-FMPES68B74"}),o.a.auth()),j=o.a.firestore(),m=a(38),p=a(39),b=a(40),h=a(14);function O(){var e=Object(c.useRef)(),t=j.collection("messages"),a=t.orderBy("createdAt").limit(75),r=Object(p.a)(a,{idField:"id"}),n=Object(u.a)(r,1)[0],s=Object(c.useState)(""),m=Object(u.a)(s,2),b=m[0],O=m[1],f=function(){var e=Object(l.a)(i.a.mark((function e(a){var c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=d.currentUser,r=c.uid,n=c.displayName,e.next=4,t.add({text:b,createdAt:o.a.firestore.FieldValue.serverTimestamp(),displayName:n,uid:r});case 4:O("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"App crt",children:[Object(h.jsxs)("div",{className:"ChatBox",children:[n&&n.map((function(e){return Object(h.jsx)(x,{message:e},e.id)})),Object(h.jsx)("div",{ref:e})]}),Object(h.jsxs)("footer",{children:[Object(h.jsxs)("label",{children:[d.currentUser.displayName.split(" ")[0].toLowerCase(),"@terminal-chat >"]}),Object(h.jsx)("form",{onSubmit:f,children:Object(h.jsx)("input",{className:"crt",id:"TextBox",value:b,onChange:function(e){return O(e.target.value)},autofocus:"true"})}),Object(h.jsx)("button",{className:"crt",onClick:function(){return d.signOut()},children:"SIGN OUT"})]})]})}function x(e){var t=e.message,a=t.text,c=t.uid,r=t.displayName,n=c===d.currentUser.uid?"sent":"received";return Object(h.jsx)("div",{className:"message ".concat(n),children:Object(h.jsxs)("p",{children:[r.split(" ")[0].toLowerCase(),": ",a]})})}function f(){return Object(h.jsx)("div",{className:"SignIn crt",children:Object(h.jsx)("button",{className:"crt",onClick:function(){var e=new o.a.auth.GoogleAuthProvider;d.signInWithPopup(e)},children:"SIGN IN"})})}var v=function(){var e=Object(m.a)(d),t=Object(u.a)(e,1)[0],a=t?d.currentUser.displayName.split(" ")[0].toLowerCase():"unknown";return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)("meta",{charSet:"utf-8"}),Object(h.jsxs)("title",{children:[a,"@terminal-chat"]}),Object(h.jsx)("link",{rel:"canonical",href:"http://mysite.com/example"})]})}),Object(h.jsx)("div",{children:t?Object(h.jsx)(O,{}):Object(h.jsx)(f,{})})]})};n.a.render(Object(h.jsx)(v,{}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.0de7a1d8.chunk.js.map